function e(e){return e&&e.__esModule?e.default:e}var t,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={};o=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var i,r={},a={};i="object"==typeof n&&n&&n.Object===Object&&n;var c="object"==typeof self&&self&&self.Object===Object&&self,s=i||c||Function("return this")();r=function(){return a.Date.now()};var l={},d={},u={},p=/\s/;u=function(e){for(var t=e.length;t--&&p.test(e.charAt(t)););return t};var h=/^\s+/;d=function(e){return e?e.slice(0,u(e)+1).replace(h,""):e};var f,g={},m={};f=(a=s).Symbol;var v={},y=Object.prototype,w=y.hasOwnProperty,b=y.toString,j=f?f.toStringTag:void 0;v=function(e){var t=w.call(e,j),n=e[j];try{e[j]=void 0;var o=!0}catch(e){}var i=b.call(e);return o&&(t?e[j]=n:delete e[j]),i};var _={},S=Object.prototype.toString;_=function(e){return S.call(e)};var T=f?f.toStringTag:void 0;m=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?v(e):_(e)};var E={};E=function(e){return null!=e&&"object"==typeof e};g=function(e){return"symbol"==typeof e||E(e)&&"[object Symbol]"==m(e)};var L=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,R=/^0o[0-7]+$/i,k=parseInt;l=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=d(e);var n=x.test(e);return n||R.test(e)?k(e.slice(2),n?2:8):L.test(e)?NaN:+e};var B=Math.max,C=Math.min;t=function(e,t,n){var i,a,c,s,d,u,p=0,h=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=i,o=a;return i=a=void 0,p=t,s=e.apply(o,n)}function v(e){return p=e,d=setTimeout(w,t),h?m(e):s}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-p>=c}function w(){var e=r();if(y(e))return b(e);d=setTimeout(w,function(e){var n=t-(e-u);return f?C(n,c-(e-p)):n}(e))}function b(e){return d=void 0,g&&i?m(e):(i=a=void 0,s)}function j(){var e=r(),n=y(e);if(i=arguments,a=this,u=e,n){if(void 0===d)return v(u);if(f)return clearTimeout(d),d=setTimeout(w,t),m(u)}return void 0===d&&(d=setTimeout(w,t)),s}return t=l(t)||0,o(n)&&(h=!!n.leading,c=(f="maxWait"in n)?B(l(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),j.cancel=function(){void 0!==d&&clearTimeout(d),p=0,i=u=a=d=void 0},j.flush=function(){return void 0===d?s:b(r())},j};const M=[{match:["M","a","r","i","a","&nbsp;","A","d","e","l","a","i","d","e"],link:"https://mariaadelaide.com"},{match:["E","m","a","i","l"],link:"mailto:afilipaspereira@gmail.com"},{match:["G","i","t","H","u","b"],link:"https://github.com/afilipapereira"}];class q{_transformToSpans(){this.text.split("").forEach((e=>{if("\n"===e)this.newText+="<br>";else{const t=" "===e?"Â ":e;this.newText+="<span>"+t+"</span>"}})),this.el.innerHTML=this.newText}_checkForLinks(){let e=0,t=[];M.forEach((n=>{this.spanEls.forEach((o=>{if(o.innerHTML===n.match[e]){if(t.push(o),e++,e===n.match.length){const o=document.createElement("a");o.href=n.link,o.target="_blank";const i=t[0];i.parentNode.insertBefore(o,i),t.forEach((e=>o.appendChild(e))),e=0,t=[]}}else e=0,t=[]}))}))}_addFadeInAnimation(){this.spanEls.forEach(((e,t)=>{const n=.01*t+.5;e.style.transition=`transform 0.5s ease-in, opacity 0.5s ease-in ${n}s`,setTimeout((()=>e.style.opacity=1),100)}))}addHoverInteration(){this.spanEls.forEach(((e,t)=>{let n;setTimeout((()=>{this.el.classList.add("about__content--ready"),e.addEventListener("mouseenter",(()=>{const t=30*Math.random()-10,o=30*Math.random()-10,i=2.5*Math.random()-2.5;e.style.transitionDuration="0.5s",e.style.transform=`translate(${t}px, ${o}px) rotate(${i}deg)`,n=setTimeout((()=>e.style.transform="translate(0,0) rotate(0deg)"),1e3)})),e.addEventListener("mouseleave",(()=>{clearTimeout(n),e.style.transitionDuration="0.75s",setTimeout((()=>e.style.transform="translate(0,0) rotate(0deg)"),450)}))}),3e3)}))}addShakeInteraction(){let e=0;let t;window.addEventListener("devicemotion",(n=>{const o=n.accelerationIncludingGravity;if(!o)return;if(this.shakeForce=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2)+Math.pow(o.z,2)),this.shakeForce>11.5){let n=Date.now();n-e>750&&(clearTimeout(t),this._moveSpansAllOverThePlace(),t=setTimeout((()=>this._moveSpansBackToPlace()),1500),e=n)}}))}_moveSpansBackToPlace(){this.spanEls.forEach(((e,t)=>{e.style.transitionDuration="0.75s",e.style.transform="translate(0px, 0px) rotate(0deg)"}))}_moveSpansAllOverThePlace(){this.isAnimating||(this.isAnimating=!0,this.changePosRelatedToShakeForce=this._mapRangeExponential(this.shakeForce,0,18,0,1),this.spanEls.forEach(((e,t)=>{let n=-1*e.getBoundingClientRect().left,o=window.innerWidth-e.getBoundingClientRect().left-e.getBoundingClientRect().width/3;t<30&&(n=-1*e.getBoundingClientRect().left/2,o=window.innerWidth-e.getBoundingClientRect().left-e.getBoundingClientRect().width),t>=30&&t<100&&(n=-1*e.getBoundingClientRect().left/3,o=(window.innerWidth-e.getBoundingClientRect().left-e.getBoundingClientRect().width)/2);const i=-1*e.getBoundingClientRect().top;let r=window.innerHeight/3-(window.scrollY+e.getBoundingClientRect().top)-e.getBoundingClientRect().height;t<30&&(r=window.innerHeight-(window.scrollY+e.getBoundingClientRect().top)-e.getBoundingClientRect().height),t>=30&&t<100&&(r=window.innerHeight/2-(window.scrollY+e.getBoundingClientRect().top)-e.getBoundingClientRect().height);const a=(Math.random()*(o-n)+n)*this.changePosRelatedToShakeForce,c=(Math.random()*(r-i)+i)*this.changePosRelatedToShakeForce,s=10*Math.random()-10;e.style.transitionDuration="0.75s",e.style.transform=`translate(${a}px, ${c}px) rotate(${s}deg)`})),setTimeout((()=>this.isAnimating=!1),750))}_mapRange(e,t,n,o,i){if(e<t||e>n)return console.warn("Value is out of the expected range:",e),e;return o+(e-t)/(n-t)*(i-o)}_mapRangeExponential(e,t,n,o,i,r=5,a=1,c=.1){if(e>n)return 1;if(e<t)return 0;let s=(e-t)/(n-t),l=o+Math.pow(s,r)*(i-o);return e<=14&&(l*=c),l}constructor(e){this.el=e,this.text=e.getAttribute("data-about-text"),this.newText="",this.spanEls=void 0,this.isAnimating=!1,this.shakeForce=0,this._transformToSpans(),this.spanEls=e.querySelectorAll("span"),this._checkForLinks(),this._addFadeInAnimation()}}var A;window.onbeforeunload=function(){window.scrollTo(0,0)},A=()=>{const n=document.querySelector("[data-about-paragraph-desktop]");n&&new q(n).addHoverInteration();const o=document.querySelector("[data-about-paragraph-tablet]");o&&new q(o).addShakeInteraction();const i=document.querySelector("[data-about-paragraph-mobile]");i&&new q(i).addShakeInteraction(),document.addEventListener("mousemove",(e=>{const t=e.pageY,n=document.querySelector(".project--heading").getBoundingClientRect().height,o=t-window.scrollY-n/2;o>document.querySelector(".projects").getBoundingClientRect().top&&t-n/2-window.scrollY>n&&o<window.innerHeight-n&&(document.querySelector(".projects__hovered-proj").style.top=o+"px",document.querySelector(".project--heading").style.top=o+"px")}));const r=e(t)((e=>{const t=e.querySelector(".project__column-img video");if(t){const e=t.getAttribute("data-video-id");document.querySelector('[data-video-bg="'+e+'"]').classList.add("project-bg__video--active")}}),200);document.querySelectorAll(".projects__group .project a").forEach((e=>e.addEventListener("click",(e=>e.stopPropagation()))));const a=Math.log(5)/document.querySelectorAll(".projects__group .project:not(.project--year)").length;let c=1;const s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?e.target.classList.add("in-viewport"):e.target.classList.remove("in-viewport")}))}),{rootMargin:"10%",threshold:.1});document.querySelectorAll(".projects__group .project:not(.project--year)").forEach(((e,t)=>{c+=.15*Math.exp(-a*t),e.style.animationDelay=`${c}s`,e.addEventListener("mouseenter",(()=>{r.cancel(),r(e)})),e.addEventListener("mouseleave",(()=>{r.cancel();const t=e.querySelector(".project__column-img video");if(t){const e=t.getAttribute("data-video-id");document.querySelector('[data-video-bg="'+e+'"]').classList.remove("project-bg__video--active")}})),e.addEventListener("click",(()=>{const t=e.querySelector(".project__column-img video"),n=e.classList.contains("project--active");if(t){const n=t.getAttribute("data-video-src");"true"!==t.getAttribute("data-is-video-hq")&&(t.insertAdjacentHTML("afterbegin",`<source src="https://pub-c336f26f70c841309ac8d8ab67e766f8.r2.dev/${n}" type="video/mp4">`),t.addEventListener("canplay",(()=>{e.classList.add("project--video-loaded"),t.play()})))}n?(e.classList.remove("project--active"),document.querySelector(".projects__hovered-proj").classList.remove("projects__hovered-proj--active"),t.pause()):(document.querySelectorAll(".project").forEach((e=>e.classList.remove("project--active"))),e.classList.add("project--active"),document.querySelector(".projects__hovered-proj").classList.add("projects__hovered-proj--active"),t.play(),setTimeout((()=>{e.getBoundingClientRect().top;parseFloat(getComputedStyle(e).fontSize);window.innerWidth}),1e3))})),s.observe(e)}))},"loading"!==document.readyState?A():document.addEventListener("DOMContentLoaded",A);
//# sourceMappingURL=index.b1289ac7.js.map
